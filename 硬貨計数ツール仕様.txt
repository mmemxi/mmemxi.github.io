このツールをリニューアルします。以下にすべての仕様を整理します。
●ツールの目的
日本円の硬貨（1,5,10,50,100,500円）を計数機に投入する作業において、極力やり直しを防ぐための誤差補正手順を教えてくれるツールです。

●計数機の仕様
・計数機は、直径の小さい順に硬貨を振り分け、各枚数と累計金額をカウントし、それぞれの硬貨用の筒に収納する機械です。
・一度カウントされた数値を減らすことはできず、１種類でも硬貨を多くカウントしすぎると最初からやり直しになります。
・計数機には、投入された硬貨の合計金額は表示されますが、各硬貨種ごとの枚数は表示されません。

●起こり得る「作業のやり直し」の原因
・計数機には不具合があり、硬貨の種類を誤判定することがあります。1円と50円、10円と100円を相互に誤判定する可能性があります。
・計数機に投入する硬貨は、全種類ともに同じ枚数（ユーザーが入力する）であるはずです。しかし、投入時点で予想より1～2枚の差異があるかもしれません。
・予想枚数より少ない分は、「余剰金庫」にある小銭を出してきて追加します。予想枚数より多い場合は、余剰分を「余剰金庫」に戻します。
・つまり、計数機によって発覚する可能性がある誤差とは、「硬貨の種類を誤判定」か「硬貨の数が過不足」の２パターンの原因があります。

●作業やり直しを防ぐための方針
投入した硬貨が多すぎてやり直しになってしまうことを防ぐため、全種類の硬貨を2枚ずつ投入せずにとっておきます。これをリザーブと呼びます。
リザーブを確保した後、計数機に「①1円・10円・100円」「②5円・50円・500円」の２段階に分けて投入します。（②を入れるときは①の硬貨もまだ計数機に入ったまま）
①・②それぞれの段階で、予想される累計金額(A)を自動的に表示しますが、それに対して「計数機がカウントした合計金額(B)」を入力する欄を設けます。
・(A)＝(B)である場合
→正常と表示する
・(A)≠(B)である場合
→ユーザーがどうすればよいか、「対策」を指示する。
まず「誤判定による誤差」か、「過不足による誤差」かを判定。
「誤判定による誤差」なら、計数機の筒から誤判定した硬貨を取り出してリザーブと交換するよう指示する。
「過不足による誤差」なら、不足→「余剰金庫」から追加、過剰→リザーブを「余剰金庫」に戻すよう指示する。
両方の可能性がある場合、両方の対策を指示。まず計数機の筒の中身を確かめてもらい、誤判定があるかどうかを見てもらう。
全硬貨種から２枚ずつ確保したリザーブは、それ以外の硬貨すべてを計数機に投入し、誤差があればその対策を行った後、最後に投入します。つまりこのシステムでは、常に各硬貨の合計枚数より２枚ずつ少ない金額を目標とし、それに合わせるように動くことになります。

●プログラムの仕様
・JavaScriptで作成してください。外部CSSに依存せず、１つのhtmlファイルのみで動作するようにします。
・スマホで操作することを想定しているので、縦画面で文字が小さくなりすぎないよう配慮してください。
・ユーザーによる入力欄は「①各硬貨種の枚数」（全種類共通）、「②１段階目での合計金額」「③２段階目での合計金額」の３つで、①はブラウザを閉じても前回の入力値が保持されるようにします。３つとも、入力フォームをクリックすると現在の入力値が全選択状態になるようにしてください。
・表示項目は、「リザーブ金額」「目標金額」「理論金額１」「理論金額２」「予想金額１」「予想金額２」「対策１」「対策２」の8つです。これらは①～③の入力によって変動します。
・「リザーブ金額」とは、各硬貨が2枚ずつの合計金額です。これは常に1332円になります。
・「目標金額」とは、各硬貨が①の枚数（リザーブを除く）ずつある場合の合計金額です。「理論金額１」＋「理論金額２」と等しい値になります。
・「理論金額１」とは、「1円・10円・100円」が①の枚数（リザーブ除く）ずつある場合の合計金額です。
・「理論金額２」とは、「5円・50円・500円」が①の枚数（リザーブ除く）ずつある場合の合計金額です。
・「予想金額１」は、常に理想金額１と同じ値になります。
・「予想金額２」は、②が未入力の場合は「予想金額１」＋「理論金額２」（＝目標金額と等しい）に、②が入力されている場合は②＋「理論金額２」になります。
・「対策１」は、１段階目の投入結果に対してユーザーがどうすべきかを表示する部分です。②が入力されたら、②と「予想金額１」を比較し、不一致なら対策を表示してください。
・「対策２」は、２段階目の投入結果に対してユーザーがどうすべきかを表示する部分です。③が入力されたら、③と「予想金額２」を比較し、不一致なら対策を表示してください。
・入力欄②の左には「理論金額１」「予想金額１」、入力欄③の左には「理論金額２」「予想金額２」を表示してください。
・①を変更されたら、②③を消去し、対策１・対策２を消し、理論金額１・理論金額２・予想金額１・予想金額２を再計算・再表示してください。
・②を変更されたら、③を消去し、対策２を消し、理論金額２・予想金額２・対策１を再計算・再表示してください。
・③を変更されたら、対策２を再表示してください。
